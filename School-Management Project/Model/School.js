/*** @author admin*/(function(){    var    __School		= model.School 				= {},    __entityMethods	= __School.entityMethods	= {},    __methods		= __School.methods			= {},    __events		= __School.events			= {};		__events.onRestrictingQuery = function(){		if(!this.length){			this.init();		}				var res = this.createEntityCollection();				res.add(this.first());				return res;	}		__methods.init = function(){		try{			if(this.length != 0){				this.remove();				ds.Agenda.remove();				ds.Academic_calendar.remove();			}						new this({				name: 'John F. Kennedy High School',				location: "3030 Villeray St. East\nMontreal Qc. H2A 1E7",				logo : loadImage(getFolder('path') + 'assets/Product-Photos/Logos/school.gif'),				defaultMaintCost: 1.25			}).save();					var school = this.first();						if(!school.agenda){				var agenda = new ds.Agenda({					fri: true,					from: "7:00 AM",					mon: true,					sat: false,					thu: true,					to: "7:00 PM",					tue: true,					wed: true				});								agenda.save();				school.agenda = agenda;				school.save();			}						var			acs = [				{					year: '2012-2013',					starts: new Date('09/12/2012'),					end: new Date('07/13/2013')				},				{					year: '2012-2013',					starts: new Date('09/08/2013'),					end: new Date('07/14/2014')				}			];						for(var i = 0 , ac ; ac = acs[i] ; i++){				ac.school = school;				new ds.Academic_calendar(ac).save();			}						return true;		}catch(e){			return false;		}	}		__methods.getSchedulerConfig = function(){		if(this.length == 0){			if(!this.init()){				return {					first_hour 	: 0,					last_hour	: 24,					workingDays	: [0,1,2,3,4,5,6]				}			}		}				var first = this.first();		var agenda= first.agenda;				if(agenda){			return {				first_hour 	: agenda.from_hours,				last_hour	: agenda.to_hours + (agenda.to_am?0:12) + (agenda.to_minutes?1:0),				workingDays	: agenda.getWorkingDays()			}		}				return null;	}	__methods.getSchedulerConfig.scope = 'public';})();